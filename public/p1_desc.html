<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="output.css" rel="stylesheet">
    <title>Slash Shot</title>
  </head>
  <body class="bg-red-500 h-screen">
    <div class="flex text-white justify-center py-8">
      <div class="w-10/12 border border-white bg-pink-400">
        <h1 class="font-bold text-center text-2xl bg-gray-400 py-2">あそびかた</h1>
        <p id="desc" class="text-xl py-4 px-4">あなたはプログラマーです。キャラのうごきをプログラムしてバトルにかちましょう。<br/>うえ、まんなか、したの移動と、 "こうげき" 、 "ためる"といったブロックをタッチして<br/>キャラのうごきをプログラムできます。</p>

          <div class="flex">
            <img id="inputImg" class="w-1/3 mx-4 p-4"
              src="/image/input_example2_trim.png"
              alt="input example image"
            />
            <div class="flex items-center">
              <svg id="triangle" width="100" height="100">
                  <polygon points="25,0 75,50 25,100" fill="gray"/>
              </svg>
            </div>
            <img id="gameImg" class="w-1/3 mx-4 p-4"
              src="/image/p1_play.png"
              alt="game example image"
            />
        </div>

        <div class="flex justify-center">
          <div class="text-center py-2 mx-8">
            <button id="prevBtn" class="text-lg bg-gray-400 hover:bg-gray-700 text-black py-2 px-8 rounded hidden font-bold">
             まえへ 
            </button>
          </div>
          <div class="text-center py-2 mx-8">
            <button  id="nextBtn" class="text-lg bg-gray-400 hover:bg-gray-700 text-black py-2 px-8 rounded font-bold">
              つぎへ
            </button>
          </div>
        </div>

      </div>
    </div>
  </body>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    const descEle = document.getElementById("desc");
    const nextButton = document.getElementById("nextBtn");
    const prevButton = document.getElementById("prevBtn");
    const leftImage = document.getElementById("inputImg");
    const rightImage = document.getElementById("gameImg");
    const triSvg = document.getElementById("triangle");

    const p1Html = 'あなたはプログラマーです。キャラのうごきをプログラムしてバトルにかちましょう。<br/>うえ、まんなか、したの移動と、 "こうげき" 、 "ためる"といったブロックをタッチして<br/>キャラのうごきをプログラムできます。';

    const p2Html = 'まずはコードブロックをタッチしてブロックをならべてプログラムをつくりましょう。<br/> <span class="bg-purple-700 rounded-lg">もし-なら</span>のブロックでは、 <span class="bg-pink-300 rounded-lg">ばあい</span>のときだけキャラが<span class="bg-blue-300 rounded-lg">アクション</span>を行います。<br/>さいごは<span class="bg-purple-700 rounded-lg">もし-おわり</span>でとじましょう。プログラムができたら<span class="bg-green-600 rounded-lg">かんせい</span>をタッチしましょう。 ';

    prevButton.addEventListener("click", (e) => {
      descEle.innerHTML = p1Html;
      rightImage.src = "/image/p1_play.png";
      leftImage.classList.remove('hidden');
      triSvg.classList.remove('hidden');
      prevButton.classList.add('hidden');
      rightImage.classList.remove('w-2/3');
      rightImage.classList.add('w-1/3');
      nextButton.innerText = 'つぎへ';
    });

    nextButton.addEventListener("click", (e) => {
      if (nextButton.innerText === 'はじめる！') {
        window.location.href = '/player1';
      }
      descEle.innerHTML = p2Html;
      leftImage.classList.add('hidden');
      triSvg.classList.add('hidden');
      rightImage.src = "/image/input_example2.png";
      rightImage.classList.remove('w-1/3');
      rightImage.classList.add('w-2/3');
      prevButton.classList.remove('hidden');
      nextButton.innerText = 'はじめる！';
    });
  </script>
</html>
